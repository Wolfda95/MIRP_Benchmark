# Evaluation

### 📋 Prerequisites
- **MIRP Benchmark Dataset**  
  → Download instructions: [`1_dataset_guide/`](https://github.com/Wolfda95/MIRP_Benchmark/tree/main/1_dataset_guide)  
- **Model Answer JSON Files**:  
  → Generated by running inference: [`2_inference_code/`](https://github.com/Wolfda95/MIRP_Benchmark/tree/main/2_inference_code)  

<br/>

### ▶️ Running Evaluation 
The evaluation scripts assess a model’s predictions for a specific task across **3 runs**, and compute mean and standard deviation of accuracy and F1 score over the 3 runs. The results are saved to an Excel file.

1. **Place the JSON Files**
   - Place the model answer files (`*_run_0.json`, `*_run_1.json`, `*_run_2.json`) in a folder called `answers/`.
   - Place the `center_of_anatomical_stuctures_in_standard_radiological_orientation.json` file in the same directory as this scripts. (This file is part of the downloaded MIRP Benchmark dataset.)
   - Your directory should look like this (unless you adjust the paths in the main method of the scripts):
      ```
        Base
          ├── RQ1_RQ2_RQ3-2_calculate_results_image.py
          ├── RQ3-1_calculate_results_anatomy.py
          ├── center_of_anatomical_stuctures_in_standard_radiological_orientation.json
          └── answers/
              ├── <base>_run_0.json
              ├── <base>_run_1.json
              └── <base>_run_2.json
      ```
2. **Install the Requirements**
   ```bash
   pip install requirements.txt
   ```
4. **Run the Evaluation**
   - **Image-Based** (Use this code for Research Question 1, 2, 3(2))
      ```
       python RQ1_RQ2_RQ3-2_calculate_results_image.py
      ```
      Evaluates whether the model’s answers are correct based on image orientation. 
   - **Anatomy-Based** (Use this code for Research Question 3(1))
      ```
       python RQ3-1_calculate_results_anatomy.py
      ```
      Evaluates whether the model’s answers are correct based on:  
          1. Image orientation  
          2. Standard human anatomy
      (Evaluates only the left/right questions, as below/above is not defined in anatomy)
     
   If you need to refresh your memory on the research questions (RQ), read the paper summary on our [Project Page](https://wolfda95.github.io/your_other_left/)


   
<br/>

### ⏭️ Next Step
Compare your results with ours:  
[`our_results/`](https://github.com/Wolfda95/MIRP_Benchmark/tree/main/our_results)  

